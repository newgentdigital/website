---
import SvgLogomarkDiscavWhite from "../../assets/brand/logomark-discav-white.svg";
import NavbarBase from "./NavbarBase.astro";
import NavbarReturn from "./NavbarReturn.astro";
import { getLangFromUrl, useTranslation } from "../../i18n/utils";
import NavbarActionsBar from "./NavbarActionsBar.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslation(lang);

const links = [
  { href: "/discav/integrations", title: t("nav").links.integrations },
  { href: "/discav/setup", title: t("nav").links.setup },
  { href: "/discav/about", title: t("nav").links.about },
  { href: "/wiki", title: t("nav").links.support, alternate: true },
  { href: "/discav/pricing", title: t("nav").links.getStarted, cta: true },
];

const actionBarLinks = [
  {
    href: "https://discav.newgent.digital",
    title:
      t("nav").actionbar.platforms.items.discav.subItems.manageDiscav.label,
    description:
      t("nav").actionbar.platforms.items.discav.subItems.manageDiscav
        .description,
    isSecure: true,
  },
  {
    href: "https://billing.newgent.digital/",
    title: t("nav").actionbar.platforms.items.customerPortal.label,
    description: t("nav").actionbar.platforms.items.customerPortal.description,
    isSecure: true,
  },
  {
    href: "https://github.com/newgentdigital/discav",
    title:
      t("nav").actionbar.platforms.items.discav.subItems.discavGithub.label,
    description:
      t("nav").actionbar.platforms.items.discav.subItems.discavGithub
        .description,
  },
  {
    href: "/",
    title: t("nav").actionbar.platforms.items.newgent.label,
    description: t("nav").actionbar.platforms.items.newgent.description,
  },
];
---

<NavbarBase iconHref="/discav" {links}>
  <NavbarReturn slot="return" />
  <NavbarActionsBar
    links={actionBarLinks}
    platformsLabel={t("nav").actionbar.login}
    slot="actions"
  />

  <slot slot="icon">
    <SvgLogomarkDiscavWhite height={24} />
  </slot>
</NavbarBase>
