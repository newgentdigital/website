---
import SvgLogomarkDiscavColorBlack from "../../assets/brand/logomark-discav-color-black.svg";
import SvgLogomarkDiscavColorWhite from "../../assets/brand/logomark-discav-color-white.svg";
import FooterBase from "./FooterBase.astro";
import FooterNewsletterSignup from "./FooterNewsletterSignup.astro";
import { getLangFromUrl, useTranslation } from "../../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslation(lang);

const links = [
  {
    category: t("footer").links.newgent.label,
    href: "/company",
    links: [
      { title: t("footer").links.newgent.items.about, href: "/company" },
      { title: t("footer").links.newgent.items.team, href: "/team" },
      { title: t("footer").links.newgent.items.careers, href: "/careers" },
      { title: t("footer").links.newgent.items.awards, href: "/awards" },
      { title: t("footer").links.newgent.items.partners, href: "/partners" },
      { title: t("footer").links.newgent.items.investors, href: "/investors" },
      { title: t("footer").links.newgent.items.handbook, href: "/handbook" },
    ],
  },
  {
    category: t("footer").links.finconnectIntegrations.label,
    href: "/discav/integrations",
    links: [
      {
        title: "ClamAV",
        href: "/discav/integrations/clamav",
      },
      {
        title: "VirusTotal",
        href: "/discav/integrations/virustotal",
      },
      {
        title: "Triage",
        href: "/discav/integrations/triage",
      },
      {
        title: "Hybrid Analysis",
        href: "/discav/integrations/hybrid-analysis",
      },
      {
        title: t("footer").links.finconnectIntegrations.items.allIntegrations,
        href: "/discav/integrations",
      },
    ],
  },
  {
    category: t("footer").links.resources.label,
    links: [
      {
        title: t("footer").links.resources.items.aboutDiscav,
        href: "/discav/about",
      },
      {
        title: t("footer").links.resources.items.setupDiscav,
        href: "/discav/setup",
      },
      { title: t("footer").links.resources.items.blog, href: "/blog" },
      { title: t("footer").links.resources.items.presskit, href: "/press-kit" },
      {
        title: t("footer").links.resources.items.discern,
        href: "/discern",
      },
      {
        title: t("footer").links.resources.items.finconnect,
        href: "/finconnect",
      },
    ],
  },
  {
    category: t("footer").links.support.label,
    links: [
      {
        title: t("footer").links.resources.items.opensource,
        href: "/discav/oss",
      },
      { title: t("footer").links.support.items.hire, href: "/hire" },
      { title: t("footer").links.support.items.contact, href: "/contact" },
      { title: t("footer").links.support.items.faq, href: "/discav/faq" },
      { title: t("footer").links.support.items.wiki, href: "/discav/wiki" },
    ],
  },
  {
    category: t("footer").links.legal.label,
    href: "/legal",
    links: [
      { title: t("footer").links.legal.items.terms, href: "/legal/terms" },
      { title: t("footer").links.legal.items.privacy, href: "/legal/privacy" },
      { title: t("footer").links.legal.items.cookies, href: "/legal/cookies" },
      {
        title: t("footer").links.legal.items.disclaimer,
        href: "/legal/disclaimer",
      },
      { title: t("footer").links.legal.items.imprint, href: "/legal/imprint" },
    ],
  },
];
---

<FooterNewsletterSignup />

<FooterBase
  description={t("footer").description.discav}
  iconHref="/discern"
  {links}
>
  <slot slot="logo">
    <SvgLogomarkDiscavColorBlack class="h-8 dark:hidden" />
    <SvgLogomarkDiscavColorWhite class="hidden h-8 dark:block" />
  </slot>
</FooterBase>
